patterns for branch list

v3 has reworded commit messages for 2 and 3 and tests for combinations
of branch options, as suggested.

No code changes (besides the additional tests in 3).
